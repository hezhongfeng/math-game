@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 210 30% 98%;
    --foreground: 210 10% 20%;
    --card: 0 0% 100%;
    --card-foreground: 210 10% 20%;

    /* 主题色变量 */
    --peppa-blue: #4A90E2;
    --peppa-blue-light: #7AB8FF;
    --peppa-blue-dark: #2A70C2;
    --peppa-cyan: #26C6DA;
    --peppa-green: #4CAF50;
    --peppa-yellow: #FFD54F;
    --peppa-orange: #FF9800;
    --peppa-purple: #AB47BC;
    --peppa-red: #EF5350;
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'Alimama FangYuanTi VF', 'Nunito', 'Comic Sans MS', cursive, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: linear-gradient(135deg, #E3F2FD 0%, #F5F9FF 50%, #E8F5E9 100%);
    min-height: 100vh;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Prevent pull-to-refresh and overscroll effects on mobile */
    overscroll-behavior-y: none;
    -webkit-overflow-scrolling: touch;
  }

  #app {
    min-height: 100vh;
    /* Ensure app container handles mobile viewport properly */
    overflow-x: hidden;
  }
}

/* 通用动画 */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes correctPop {
  0% { transform: scale(0.5); opacity: 0; }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes wrongShake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
  20%, 40%, 60%, 80% { transform: translateX(8px); }
}

@keyframes answerPop {
  0% { transform: scale(0.5); opacity: 0; }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes answerShake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
  20%, 40%, 60%, 80% { transform: translateX(8px); }
}

/* 动画类 */
.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

.animate-correct-pop {
  animation: correctPop 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.animate-wrong-shake {
  animation: wrongShake 0.6s ease-in-out;
}

.animate-answer-pop {
  animation: answerPop 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.animate-answer-shake {
  animation: answerShake 0.6s ease-in-out;
}

/* 过渡效果 */
.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.2s ease;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

/* 题目切换过渡 */
.question-enter-active,
.question-leave-active {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.question-enter-from {
  opacity: 0;
  transform: translateY(30px) scale(0.95);
}

.question-leave-to {
  opacity: 0;
  transform: translateY(-30px) scale(0.95);
}

@layer components {
  /* 统一的按钮样式 - 主按钮 */
  .btn-primary {
    @apply bg-gradient-to-r from-peppa-blue to-peppa-blue-dark text-white font-bold rounded-cute-xl shadow-cute;
    @apply hover:from-peppa-blue-light hover:to-peppa-blue active:scale-95;
    @apply transition-all duration-200;
    @apply border-4 border-transparent;
  }

  /* 统一的按钮样式 - 次按钮 */
  .btn-secondary {
    @apply bg-white text-peppa-blue-dark font-bold rounded-cute-xl shadow-cute;
    @apply hover:bg-peppa-blue-light/20 active:scale-95;
    @apply transition-all duration-200;
    @apply border-4 border-peppa-blue-light/30;
  }

  /* 统一的按钮样式 - 成功按钮 */
  .btn-success {
    @apply bg-gradient-to-r from-peppa-green to-peppa-green-dark text-white font-bold rounded-cute-xl shadow-cute;
    @apply hover:from-peppa-green-light hover:to-peppa-green active:scale-95;
    @apply transition-all duration-200;
  }

  /* 统一的卡片样式 */
  .card {
    @apply bg-white rounded-cute-xl shadow-card;
    @apply border-2 border-peppa-blue/20;
  }

  /* 统一的数据卡片样式 */
  .stat-card {
    @apply bg-white rounded-cute-lg shadow-card p-4 text-center;
    @apply border-2;
  }

  /* 统一的内容块样式 */
  .content-block {
    @apply bg-white/90 backdrop-blur-sm rounded-cute-lg shadow-cute;
    @apply border-4 border-peppa-blue-light/20;
  }

  /* 进度条样式 */
  .progress-bar {
    @apply h-3 bg-peppa-blue/20 rounded-full overflow-hidden;
  }

  .progress-bar-fill {
    @apply h-full bg-gradient-to-r from-peppa-blue to-peppa-blue-dark rounded-full;
    @apply transition-all duration-300 ease-out;
  }

  /* 输入框样式 */
  .input-field {
    @apply rounded-cute-lg border-2 border-peppa-blue-light/50 px-4 py-3;
    @apply focus:outline-none focus:border-peppa-blue focus:ring-4 focus:ring-peppa-blue/20;
    @apply transition-all duration-200;
  }
}
